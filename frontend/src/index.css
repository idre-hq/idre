/* frontend/src/index.css */

@import './styles/theme.css';
@import './styles/base.css';

/* Components */
@import './styles/components/whiteboard.css';
@import './styles/components/dashboard.css';
@import './styles/notebookColors.css';
@import './styles/components/drive.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================================================================
   BLOCKNOTE CUSTOM STYLES
   =================================================================== */

/* Override BlockNote's default font size */
.blocknote-wrapper .bn-editor {
    font-size: var(--bn-font-size, 16px);
    line-height: var(--bn-line-height, 1.6);
}

/* ===== LEFT ALIGNMENT FIXES ===== */

/* Remove default centering - align text to the left */
.blocknote-wrapper .bn-editor,
.blocknote-wrapper .bn-block-content,
.blocknote-wrapper [class*="blockContent"],
.blocknote-wrapper [class*="inlineContent"] {
    text-align: left !important;
}

/* Ensure all block types are left-aligned */
.blocknote-wrapper .bn-editor h1,
.blocknote-wrapper .bn-editor h2,
.blocknote-wrapper .bn-editor h3,
.blocknote-wrapper .bn-editor h4,
.blocknote-wrapper .bn-editor h5,
.blocknote-wrapper .bn-editor h6,
.blocknote-wrapper .bn-editor p,
.blocknote-wrapper .bn-editor ul,
.blocknote-wrapper .bn-editor ol,
.blocknote-wrapper .bn-editor li,
.blocknote-wrapper .bn-editor blockquote,
.blocknote-wrapper .bn-editor pre,
.blocknote-wrapper .bn-editor div {
    text-align: left !important;
}

/* Fix checkbox/task list alignment */
.blocknote-wrapper .bn-editor [data-content-type="checkListItem"],
.blocknote-wrapper .bn-editor [data-content-type="bulletListItem"],
.blocknote-wrapper .bn-editor [data-content-type="numberedListItem"] {
    text-align: left !important;
}

/* Override any Mantine centering */
.blocknote-wrapper .mantine-Text-root,
.blocknote-wrapper [class*="mantine"] {
    text-align: left !important;
}

/* Fix block group alignment */
.blocknote-wrapper [class*="blockGroup"],
.blocknote-wrapper [class*="blockOuter"],
.blocknote-wrapper [class*="block_"] {
    text-align: left !important;
}

/* ===== THEME INTEGRATION ===== */

/* Match BlockNote's background with your theme */
.blocknote-wrapper [data-theming-css-variables-demo] {
    --bn-colors-editor-background: hsl(var(--background));
    --bn-colors-editor-text: hsl(var(--foreground));
    --bn-colors-menu-background: hsl(var(--popover));
    --bn-colors-menu-text: hsl(var(--popover-foreground));
    --bn-colors-tooltip-background: hsl(var(--popover));
    --bn-colors-tooltip-text: hsl(var(--popover-foreground));
    --bn-colors-hovered-background: hsl(var(--muted));
    --bn-colors-hovered-text: hsl(var(--foreground));
    --bn-colors-selected-background: hsl(var(--accent));
    --bn-colors-selected-text: hsl(var(--accent-foreground));
    --bn-colors-disabled-background: hsl(var(--muted));
    --bn-colors-disabled-text: hsl(var(--muted-foreground));
    --bn-colors-shadow: hsl(var(--border));
    --bn-colors-border: hsl(var(--border));
    --bn-colors-side-menu: hsl(var(--muted-foreground));
    --bn-colors-highlights-gray-background: hsl(var(--muted));
    --bn-colors-highlights-gray-text: hsl(var(--muted-foreground));
}

/* Alternative theme variable targeting */
.blocknote-wrapper,
.blocknote-wrapper .bn-container,
.blocknote-wrapper [data-bn-theme] {
    --bn-colors-editor-background: hsl(var(--background));
    --bn-colors-editor-text: hsl(var(--foreground));
}

/* ===== FOCUS STYLES ===== */

/* Ensure proper focus styles */
.blocknote-wrapper .bn-editor:focus-within {
    outline: none;
}

/* ===== MENUS & TOOLBARS ===== */

/* Style the slash menu and toolbar */
.blocknote-wrapper .bn-side-menu,
.blocknote-wrapper .bn-formatting-toolbar,
.blocknote-wrapper .bn-slash-menu,
.blocknote-wrapper .bn-suggestion-menu {
    border: 1px solid hsl(var(--border));
    border-radius: var(--radius);
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    background: hsl(var(--popover));
}

/* Slash menu items */
.blocknote-wrapper .bn-suggestion-menu-item {
    text-align: left !important;
}

/* ===== PLACEHOLDER ===== */

/* Placeholder styling */
.blocknote-wrapper .bn-editor [data-placeholder]::before {
    color: hsl(var(--muted-foreground));
    opacity: 0.6;
}

/* ===== CODE BLOCKS ===== */

/* Code block styling */
.blocknote-wrapper .bn-editor pre {
    background: hsl(var(--muted));
    border: 1px solid hsl(var(--border));
    border-radius: var(--radius);
    text-align: left !important;
}

.blocknote-wrapper .bn-editor code {
    background: hsl(var(--muted));
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
}

.blocknote-wrapper .bn-editor pre code {
    background: transparent;
    padding: 0;
}

/* ===== BLOCKQUOTE ===== */

/* Blockquote styling */
.blocknote-wrapper .bn-editor blockquote {
    border-left: 3px solid hsl(var(--primary));
    padding-left: 1rem;
    color: hsl(var(--muted-foreground));
    text-align: left !important;
}

/* ===== LINKS ===== */

/* Link styling */
.blocknote-wrapper .bn-editor a {
    color: hsl(var(--primary));
    text-decoration: underline;
    text-underline-offset: 2px;
}

.blocknote-wrapper .bn-editor a:hover {
    opacity: 0.8;
}

/* ===== TABLES ===== */

/* Table styling */
.blocknote-wrapper .bn-editor table {
    border-collapse: collapse;
    width: 100%;
    text-align: left !important;
}

.blocknote-wrapper .bn-editor th,
.blocknote-wrapper .bn-editor td {
    border: 1px solid hsl(var(--border));
    padding: 0.5rem 0.75rem;
    text-align: left !important;
}

.blocknote-wrapper .bn-editor th {
    background: hsl(var(--muted));
    font-weight: 600;
}

/* ===== LISTS ===== */

/* List styling */
.blocknote-wrapper .bn-editor ul,
.blocknote-wrapper .bn-editor ol {
    padding-left: 1.5rem;
    text-align: left !important;
}

.blocknote-wrapper .bn-editor li {
    text-align: left !important;
}

/* Checkbox/task list styling */
.blocknote-wrapper .bn-editor input[type="checkbox"] {
    accent-color: hsl(var(--primary));
    margin-right: 0.5rem;
}

/* ===== HEADINGS ===== */

/* Heading spacing */
.blocknote-wrapper .bn-editor h1 {
    font-size: 1em;       /* Changed from 2em */
    font-weight: 700;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
}

.blocknote-wrapper .bn-editor h2 {
    font-size: 0.875em;      /* Changed from 1.5em */
    font-weight: 600;
    margin-top: 1.25rem;
    margin-bottom: 0.5rem;
}

.blocknote-wrapper .bn-editor h3 {
    font-size: 0.700em;     /* Changed from 1.25em */
    font-weight: 600;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
}

/* Optional: If you use h4-h6, you can size them here too */
.blocknote-wrapper .bn-editor h4 {
    font-size: 0.5em;
    font-weight: 600;
    margin-top: 0.75rem;
    margin-bottom: 0.5rem;
}

/* ===== DRAG HANDLE & SIDE MENU ===== */

/* Side menu (drag handle, add button) */
.blocknote-wrapper .bn-side-menu {
    opacity: 0;
    transition: opacity 0.15s ease;
}

.blocknote-wrapper .bn-block-outer:hover .bn-side-menu,
.blocknote-wrapper .bn-side-menu:hover {
    opacity: 1;
}

/* ===== SELECTION ===== */

/* Text selection */
.blocknote-wrapper .bn-editor ::selection {
    background: hsl(var(--primary) / 0.2);
}

/* Block selection */
.blocknote-wrapper .bn-editor .bn-block-selected {
    background: hsl(var(--accent));
}

/* ===== IMAGE BLOCKS ===== */

.blocknote-wrapper .bn-editor img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius);
}

/* ===== HORIZONTAL RULE ===== */

.blocknote-wrapper .bn-editor hr {
    border: none;
    border-top: 1px solid hsl(var(--border));
    margin: 1.5rem 0;
}